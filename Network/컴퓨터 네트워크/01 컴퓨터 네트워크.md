# 01 컴퓨터 네트워크

## 1. 컴퓨터 네트워크와 인터넷
1. 컴퓨터 네트워크
    - 여러 장치가 연결되어 정보를 주고받을 수 있는 통신망<br><br>

2. 인터넷
    - 여러 네트워크를 연결한 '네트워크의 네트워크'<br><br>

## 2. 네트워크 구조
1. 네트워크 기본 구조
    - 모든 네트워크는 '노드', 노드를 연결하는 '간선', 노드 간 주고받는 '메시지'로 구성
        - 노드 : 정보를 주고받을 수 있는 장치
        - 간선 : 정보를 주고받을 수 있는 유무선의 통신 매체
    - 네트워크 구조는 호스트, 네트워크 장비, 통신 매체, 메시지로 구성<br><br>

2. 호스트
    - 네트워크 가장자리에 위치한 노드로 네트워크를 통해 정보를 최초 생성 및 송신하고 수신
    - 네트워크의 가장자리에 자리 잡고 있다는 점에서 종단 시스템(end system)이라고도 함
    - 네트워크상에서 특정한 역할을 수행하기도 함
        - 서버
            - '어떠한 서비스'를 제공하는 호스트
            - '어떠한 서비스'는 파일(파일 서버), 웹 페이지(웹 서버), 메일(메일 서버)이 될 수도 있음
        - 클라이언트
            - 서버에게 어떠한 서비스를 요청하고 서버의 응답을 제공받는 호스트<br><br>

3. 네트워크 장비
    - 네트워크의 중간에 위치한 노드로 호스트 간 주고받는 정보가 원하는 수신지까지 전송될 수 있도록 함
    - 이더넷 허브, 스위치, 라우터, 공유기 등이 있음<br><br>

4. 통신 매체
    - 각 노드를 연결하는 간선
    - 노드들을 유선으로 연결하는 유선 매체, 무선으로 연결하는 무선 매체가 있음<br><br>

5. 메시지
    - 통신 매체로 연결된 노드가 주고받는 정보<br><br>

## 3. 범위에 따른 네트워크 분류
1. 범위에 따른 네트워크 분류
    - LAN(Local Area Network)
        - 가정, 기업처럼 비교적 근거리를 연결하는 한정된 공간의 네트워크
    - CAN(Campus Area Network)
        - 학교 또는 회사의 여러 건물 단위로 연결되는 규모의 네트워크
    - MAN(Metropolitan Area Network)
        - 도시나 대도시 단위로 연결되는 규모의 네트워크
    - WAN(Wide Area Network)
        - LAN을 연결할 수 있는 넓은 범위의 네트워크
        - ISP(Internet Service Provider)라는 인터넷 서비스 업체가 구축 및 관리
            - 사용자에게 인터넷과 같은 WAN에 연결 가능한 회선을 임대하는 등 WAN과 관련한 다양한 서비스를 제공
            - 국내 대표적 ISP : KT, LG U+, SK브로드밴드<br><br>

2. 메시지 교환 방식에 따른 네트워크 분류
    - 회선 교환(circuit switching) 방식
        - 메시지 전송로인 회선을 설정하고 이를 통해 메시지를 주고받는 방식
        - 회선 교환 네트워크에서는 호스트 간에 메시지를 주고받기 전에 전송로인 회선을 설정한 뒤, 하당 전송로를 통해서만 메시지를 주고 받음
        - 회선 교환 네트워크가 올바르게 동작할 수 있도록 호스트 간의 회선을 적절하게 설정해주는 회선 스위치를 사용
            - 회선 스위치 : 호스트 사이에 일대일 전송로를 확보하는 네트워크 장비
        - 장점 : 주어진 시간 동안 정보의 양이 비교적 일정
        - 문제점 : 회선의 이용 효율이 낮아질 수 있음
            - 가능한 모든 회선에 끊임없이 메시지가 흐르고 있어야만 회선의 이용 효율이 높아지지만, 메시지를 주고받지 않으면서 회선을 점유하여 낭비가 발생
    - 패킷 교환(packet switching) 방식
        - 회선 교환 방식의 문제점을 해결한 방식으로, 메시지를 패킷이라는 작은 단위로 쪼개어 전송
            - 패킷 : 패킷 교환 네트워크상에서 송수신되는 메시지의 단위로, 전송하고자 하는 데이터인 페이로드와 부가 정보인 헤더 및 트레일러로 구성
        - 메시지를 송수신하는 두 호스트가 하나의 전송 경로를 점유하지 않기에 네트워크 이용 효율이 회선 교환 네트워크보다 상대적으로 높음
        - 패킷이 수신지까지 올바르게 도달할 수 있도록 최적의 경로를 결정하거나 패킷의 송수신지를 식별하는 패킷 스위치를 사용<br><br>

## 4. 주소와 송수신지 유형에 따른 전송 방식
1. 주소
    - 패킷 헤더에 담기는 송수신지를 특정할 수 있는 정보로, 이를 토대로 유니캐스트 또는 브로드캐스트 방식 등으로 전송<br><br>

2. 송수신 방식 종류
    - 유니캐스트(unicast)
        - 가장 일반적인 형태의 송수신 방식으로, 하나의 수신지에 메시지를 전송하는 방식
        - 송신지와 수신지가 일대일롤 메시지를 주고받는 경우
    - 브로드캐스트(broadcast)
        - 자신을 제외한 네트워크상의 모든 호스트에게 전송하는 방식
        - 브로드캐스트 도메인 : 브로드캐스트가 전송되는 범위
            - 즉, 브로드캐스트의 수신지는 브로드캐스트 도메인이며 이는 자신을 제외한 네트워크상의 모든 호스트
    - 멀티캐스트(multicast)
        - 네트워크 내의 동일 그룹에 속한 호스트에게만 전송하는 방식
    - 애니캐스트(anycast)
        - 네트워크 내의 동일 그룹에 속한 호스트 중 가장 가까운 호스트에게 전송하는 방식<br><br>

## 5. 프로토콜
1. 프로토콜
    - 노드 간에 정보를 올바르게 주고받기 위해 합의된 규칙이나 방법
    - 프로토콜마다 목적과 특징이 달라 헤더에 포함되는 정보도 달라질 수 있음<br><br>

## 6. 네트워크 모델
1. 네트워크 참조 모델(network reference model)
    - 통신이 일어나는 각 과정을 계층으로 나눈 구조로, 네트워크 계층 모델이라고도 함
    - 통신 과정을 계층으로 나눈 이유
        - 네트워크 구성과 설계가 용이
            - 각 계층이 수행해야 할 역할이 정해져 있어 계층의 목적에 맞게 프로토콜과 네트워크 장비를 계층별로 구성 가능
        - 네트워크 문제 진단과 해결이 용이
            - 통신 과정에서 문제가 발생하더라도 문제의 원인을 계층별로 진단하기 수월<br><br>

2. OSI 모델
    - 국제 표준화 기구(ISO, International Organization for Standardization)에서 만든 네트워크 참조 모델로, OSI 7 계층으라고도 함
    - 각 계층
        - 물리 계층(phygical layer)
            - OSI 모델의 최하단에 있는 계층으로, 1과 0으로 표현되는 비트 신호를 주고받는 계층
            - 가장 근원적인 통신이 이루어지는 계층
            - 통신 매체에 맞는 신호로 운반되도록 비트 데이터의 변환이 이루어지고 통신 매체를 통한 송수신이 이루어지는 계층
        - 데이터 링크 계층(data link layer)
            - 네트워크 내 주변 장치 간의 정보를 올바르게 주고받기 위한 계층
            - 물리 계층을 통해 주고받는 정보에 오류가 없는지 확인하고, MAC 주소라는 주소 쳬계를 통해 네트워크 내 송수신지를 특정할 수 있음
            - 때로는 전송 과정에서 발생할 수 있는 충돌 문젤르 해결하는 게층
        - 네트워크 계층(network layer)
            - 메시지를 (다른 네트워크에 속한) 수신지까지 전달하는 계층
            - 네트워크 간의 통신이 이루어지는 계층
            - 인터넷을 가능하게 하는 계층
            - IP 주소라는 주소 체계를 통해 통신하고자 하는 수신지 호스트와 네트워크를 식별하고, 원하는 수신지에 도달하기 위한 최적의 경로를 결정
        - 전송 계층(transport layer)
            - 신뢰성 있고 안정성 있는 전송을 해야 할 때 필요한 계층
            - 패킷의 흐름을 제어하거나 전송 오류를 점검해 신뢰성 있고 안정적인 전송이 이루어지도록 함
            - 포트라는 정보를 통해 실행 중인 응용 프로그램의 식별이 이루어지기도 함 
        - 세션 계층(session layer)
            - 이름 그대로 '세션'을 관리하기 위해 존재하는 계층
                - 세션 : 통신을 주고받는 호스트의 응용 프로그램 간 연결 상태
            - 세션을 생성하거나 유지하고, 종료되었을 때는 끊어주는 역할을 담당
        - 표현 계층(presentation layer)
            - 번역가와 같은 역할을 하는 계층
            - 사람이 이해할 수 있는 언어인 문자를 컴퓨터가 이해할 수 있는 코드로 변환하거나, 압축, 암호화와 같은 작업이 이루어짐
        - 응용 계층(application layer)
            - OSI 참조 모델 최상단에 있는 계층으로, 사용자 및 사용자가 이용하는 응용 프로그램과 가장 밀접히 맞닿아 있는 계층
            - 사용자가 이용할 응용 프로그램에 다양한 네트워크 서비스를 제공<br><br>

3. TCP(Transmission Control Protocol)/IP(Internet Protocol) 모델
    - 네트워크릴 이론적으로 기술하고 이해할 때 사용하는 OSI 모델과 다르게 구현에 중점을 둔 네트워크 참조 모델
    - OSI 모델의 목적이 '이상적 설계'에 가깝다면, TCP/IP 모델은 '실용적 구현'에 가까움
    - TCP/IP 4계층, 인터넷 프로토콜 스위트(internet protocol suite), TCP/IP 프로토콜 스택(protocol stack)이라고도 부름
        - 인터넷 프로토콜 스위트와 TCP/IP 프로토콜 스택 : 다양한 계층의 프로토콜 집합
    - TCP/IP 4계층
        - 네트워크 액세스 계층(network access layer)
            - OSI 모델의 데이터 링크 계층과 유사
            - 링크 계층, 네트워크 인터페이스 계층(network interface layer)이라고도 부름
        - 인터넷 계층(internet layer)
            - OSI 모델의 네트워크 계층과 유사
        - 전송 계층(transport layer)
            - OSI 모델의 전송 계층과 유사
        - 응용 계층(application layer)
            - OSI 모델의 세션, 표현, 응용 계층을 합친 것과 유사

## 7. 캡슐화와 역캡슐화
1. 캡슐화(encapsulation)
    - 어떤 정보를 송신할 때 각 계층에서는 상위 계층으로부터 내려받은 패킷을 페이로드로 삼아, 프로토콜에 걸맞은 헤더(혹은 트레일러)를 덧붙인 후 하위 계층으로 전달
    - 즉, 한 단계 아래 계층은 바로 위의 계층으로부터 받은 패킷에 헤더 및 트레일러를 추가해 나감
    - 이렇게 송신 과정에서 헤더 및 트레일러를 추가해 나가는 과정이 캡슐화<br><br>

2. 역캡슐화(decapsulation)
    - 어떤 메시지를 수신할 때 켭슐화 과정에서 붙였던 헤더 및 트레일러를 각 계층에서 확인한 뒤 제거하는 과정<br><br>

## 8. PDU(Protocol Data Unit)
1. PDU
    - 각 계층에서 송수신되는 메시지의 단위로, 전송 계층 이하의 메시지를 구분하기 위해 사용
    - 상위 계층에서 전달받은 데이터에 현재 계층의 프로토콜 헤더 및 트레일러를 추가하면 현재 계층의 PDU가 됨<br><br>

2. OSI 모델의 각 계층에서의 PDU
    - 응용, 표현, 세션 계층 : 데이터 = 메시지
    - 전송 계층 : 세그먼트(TCP 프로토콜이 사용되었을 경우), 데이터그램(UDP 프로토콜이 사용되었을 경우)
    - 네트워크 계층 : IP 패킷 = IP 데이터그램
    - 데이터 링크 계층 : 프레임
    - 물리 계층 : 비트 = 심볼<br><br>

## 9. OSI 7계층, TCP/IP 4계층의 사실
1. OSI 7계층, TCP/IP 4계층은 사실 아무것도 해 주지 않는다
    - 네트워크 참조 모델은 모든 네트워크 장비가 반드시 지켜야 하는 엄격한 규칙이나 법규가 아님
        - 이름처럼 네트워크 구조에 대한 개념 참조를 위해 사용하는 것이 바람직함
    - 지금도 새로운 프로토콜과 네트워크 장비가 만들어지고 있고, 모든 프로토콜이 모든 모델의 특정 계층에 완벽히 대응되지 않음
        - 특정 계층으로 명확히 분류되는 프로토콜이나 네트워크 장비도 있지만, 특정 계층으로 분류하기 어렵거나 여러 계층을 포괄하는 프로토콜이나 네트워크 장비도 있을 수 있음
    - 네트워크 참조 모델이나 특정 계층은 네트워크를 작동시키는 주체가 아님
        - 프로토콜 혹은 네트워크 장비 같은 참조 모델에 속한 대상이 바로 네트워크 작동시키는 주체이자 '무언가를 해 주는' 대상
        - 즉, 네트워크 참조 모델과 계층은 통신이 일어나는 단계를 역할별로 구획한 큰 그림, 이른바 '모델'일 뿐이지 반드시 지켜야할 '규칙'도, 네트워크의 작동 주체도 아님<br><br>

## 10. 트래픽과 네트워크 성능 지표
1. 트래픽(traffic)
    - 네트워크 내의 정보량<br><br>

2. 특정 노드에 트래픽이 몰린다는 것
    - 해당 노드가 특정 시간 동안 처리해야 할 정보가 많음을 의미
    - 해당 노드에 과부화(overhead)가 생길 수 있음
    - 성능 저하로 이어질 수 있음<br><br>

3. 네트워크 성능을 평가하는 세 가지 지표
    - 처리율(throughout)
        - 단위 시간당 네트워크를 통해 실제로 전송되는 정보량
        - 일반적으로 bps(bit/s), Mbps(M(mega)bit/s), Gbps(G(giga)bit/s), pps(p(packets)/s) 단위로 표현
        - 비교적 실시간성이 강조된 지표로, 특정 노드가 얼마만큼의 트래픽을 처리하는 중인지 판단하기 위해 사용되는 경우가 많음
        - 매 순간 변하는 모습으로 표현되거나, 처리율의 평균값이 주로 활용<br><br>

4. 대역폭(bandwidth)
    - 신호 처리 영역에서의 정의
        - 주파수의 범위
    - 네트워크 성능 측정 영역에서의 정의
        - 단위 시간 동안 통신 매체를 통해 송수신할 수 있는 최대 정보량으로, 높은 대역폭을 가지고 있다면 많은 정보를 송수신할 능력이 있음을 의미
    - 처리율과 같이 bps, Mbps, Gbps를 단위로 사용<br><br>

5. 패킷 손실(packet loss)
    - 송수신되는 패킷이 손실된 상황
    - 높은 트래픽으로 인해 노드가 순간적으로 처리해야 할 패킷이 너무 많아지거나 네트워크상에 예기치 못한 장애가 발생해서 패킷을 처리하지 못하면 패킷 손실이 발생할 수 있음
    - 전체 패킷 중 유실된 패킷을 백분위로 표현한 값을 사용하는 경우가 많음