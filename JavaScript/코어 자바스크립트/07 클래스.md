# 07 클래스

## 1. 클래스와 인스턴스의 개념 이해
1. 클래스란?
    - 클래스 = 집단
    - 상위 클래스(superclass)와 하위 클래스(subclass)로 구분
    - 하위로 갈수록 상위 클래스의 속성을 상속하면서 더 구체적인 요건이 추가 또는 변경<br><br>

2. 인스턴스란?
    - 어떤 클래스의 속성을 지니는 실존하는 개체
        - 예를 들어, 감귤/자몽/천혜향 등은 음식에 속해 먹을 수 있음 → 과일에 속해 나무에서 열림 → 귤류에 속해 말랑한 껍질 속에 달고 신맛이 나는 과육이 들어있는 구체적인 개체들
    - 어떤 클래스에 속한 개체는 그 클래스의 조건을 모두 만족하므로 그 클래스의 구체적인 예시, 즉 인스턴스가 될 것<br><br>

3. 프로그래밍 언어에서의 클래스와 인스턴스의 관계
    - 인스턴스
        - 사용자가 직접 여러 가지 클래스를 정의하고, 클래스를 바탕으로 인스턴스를 만들 때 어떤 개체가 클래스의 속성을 지님
        - 한 인스턴스는 하나의 클래스만을 바탕으로 생성
        - 어떤 인스턴스가 다양한 클래스에 속할 수는 있지만, 이 클래스들은 모두 인스턴스 입장에서는 '직계존속'
        - 다중상속을 지원하는 언어이든 그렇지 않은 언어이든 결국 인스턴스를 생성할 때 호출할 수 있는 클래스는 오직 하나뿐
    - 클래스
        - 공통 요소를 지나는 지니는 집단을 분류하기 위한 개념이지만, 클래스가 먼저 정의돼야만 그로부터 공통적인 요소를 지니는 개체들을 생성 가능
        - 사용하기에 따라 추상적인 대상일 수도 구체적인 개체가 될 수도 있음
            - 일반적인 사용 방식, 즉 구체적인 인스턴스가 사용할 메서드를 정의한 '틀'의 역할을 담당하는 목적을 자질 때의 클래스는 추상적인 개념
            - 클래스 자체를 this로 해서 직접 접근해야만 하는 스태틱 메서드를 호출할 때의 클래스는 그 자체가 하나의 개체로서 취급<br><br>

## 2. 자바스크립트의 클래스
1. 클래스 관점에서 프로토타입에 접근
    - 생성자 함수 Array를 new 연산자와 함께 호출하면 인스턴스가 생성
    - Array를 일좀의 클래스라고 하면, Array의 prototype 객체 내부 요소들이 인스턴스에 '상속'
        - 엄밀히는 상속이 아닌 프로토타입 체이닝에 의한 참조
        - Array 내부 프로퍼티들 중 prototype 프로퍼티를 제외한 나머지는 인스턴스에 상속되지 않음<br><br>

2. 스태틱 멤버와 프로토타입 멤버
    - 인스턴스에 상속되는지(인스턴스가 참조되는지) 여부에 따라 분류
        - 다른 언어의 클래스 구성 요소에 대한 정의를 차용한 것으로서 클래스 입장에서 사용 대상에 따라 구분한 것<br><br>

3. 스태틱 메서드와 프로토타입 메서드
    ```javascript
    var Rectangle = function(width, height) {
    this.width = width;
    this.height = height;
    };
    Rectangle.prototype.getArea = function() {
    return this.width * this.height;
    };
    Rectangle.isRectangle = function(instance) {
    return (
        instance instanceof Rectangle && instance.width > 0 && instance.height > 0
    );
    };

    var rect1 = new Rectangle(3, 4);
    console.log(rect1.getArea()); // 12 (O)
    console.log(rect1.isRectangle(rect1)); // Error (X)
    console.log(Rectangle.isRectangle(rect1)); // true
    ```
    - Rectangle 함수를 new 연산자와 함께 호출해서 생성된 인스턴스를 rect1에 할당
    - 생성된 인스턴스에는 width, height 프로퍼티에 각각 3, 4의 값이 할당
    - 프로토타입 객체에 할당한 메서드는 인스턴스가 마치 자신의 것처럼 호출 가능
        - 13번째 줄에서 호출한 getArea는 실제로는 rect1.__proto__.getArea에 접근
        - __proto__를 생략했으므로 this가 rect1인 채로 실행
        - 결과적으로 rect1.width * rect1.height의 계산값이 반환
        - 이처럼 인스턴스에서 직접 호출할 수 있는 메서드가 프로토타입 메서드
    - 14번째 줄에서는 rect1 인스턴스에서 isRectangle이라는 메서드에 접근
        - rect1에 해당 메서드가 있는지 검색했는데 없고, rect1.__proto__에도 없으며, rec1.__proto__.__proto__(=Object.prototype)에도 없음
        - 결국 undefined를 실행하라는 명령이므로, 함수가 아니어서 실행할 수 없다는 의미의 'Uncaught TypeError : not a function' 에러 발생
        - 이렇게 인스턴스에서 직접 접근할 수 없는 메서드가 스태틱 메서드
            - 스태틱 메서드는 15번째 줄처럼 생성자 함수를 this로 해야만 호출 가능